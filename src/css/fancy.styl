vendor(prop, args)
	-webkit-{prop} args
	-moz-{prop} args
	{prop} args

border-radius()
	vendor(border-radius, arguments)

user-select()
	vendor(user-select, arguments)

box-sizing()
	vendor(box-sizing, arguments)

icon_close = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAWCAYAAAChWZ5EAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACDQAAAg0Bd06+cAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACqSURBVEjH7ZaxDYUwDESfEAVUhDmYmIIp6EAMAGIn0xgpRYL4X0amoLjqTr5THDtBRPAEX4CfxNAB5QVfAp15AKAABkCAHWgTmlY5UW1hGaDXwhKFCBEfIvMTvUkALS4JbECj2DKaYHUCY8ZgVaS40bIFFTBljFKYgMp0CjTEfMN8vmv+zxjWwHJhvgD1k3vAL4BrC9wvoesYvmUR+a3iVzxG7s/x9yN6EgcewZkbjd7+uwAAAABJRU5ErkJggg2760b29e907bb3f6679d7bb19909e1e8'
icon_chats = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAWCAYAAAChWZ5EAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACDQAAAg0Bd06+cAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAABwSURBVEjHY/j//z/DQGKGUQfglGBgkAbiU0B8g0IMMkOaHAd4APF/KmEPchxgSUUHWJKVBoDAChoSlGCr0VxAbi7gBOImIJ5AIQaZwUmOA1ypmAhdh6QDBjYKRnPBgBdEA14UD4bKaGCr49FcQC8MAFuxIjMFJeMNAAAAAElFTkSuQmCC75e4622e540be52b8136420cf8cc5769'
icon_new = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAWCAYAAAChWZ5EAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACDQAAAg0Bd06+cAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF0SURBVEjH3da/S1dhFMfxV6bWUNIkOJv/gYOQuIQQDSINCYItIiHi4CqEjq0tgYKBBCpIBNLmIjjopm0ugigNIkSIKP7qOni+cBG0+yN/4HCGe8899/N+Ds/5PI8kSdxmuLMAqEIPxjGTIabwAQ1R/wh9aM4NgGrMI8ER/mSMX2hEDX5E/SE68gIMRvFHPMvV0nPxOozFPyoQ7XkA5rCD2pzi1fiOpYCYSEF8ywOwjOUC4rNYxQYW8RSTRTqQCwAPMY0VDOE0Vr2AJ1dtxNIAMS1fY+WDKfHKBm4rMgWZAPAAX/AT/ThJiR/jTSEfyAIQ4uNYi3k/Tomf4G1hI8oI8DnEfkerK+Kn6C7lhP8CwCds4zW2Loi/K23FVwHgcYi9iOemgPmL3njXg/rrBlhHK15hH+8j3xr5lusGSMLxDjCQynf+D4BLrTgcbzQVXRfywwHwvAxAocMIbdiMqCoDUOQ43o3v9/Dyti4kI2i8H1eym4ozFy4wWbepAoYAAAAASUVORK5CYII4cc6e9061ed51a469ea2e595be7607cc'

#fancy-chat
	position fixed

	left 50%
	top 50%

	width 650px
	margin-left -(@width / 2)
	height 450px
	margin-top -(@height / 2)

	z-index 1234

	box-shadow 0 0 0 1px black
	background-color #e9e9e9

	*
		box-sizing(border-box)
		margin 0
		padding 0

	.send
		position relative
		height 120px

		.message
			width 550px
			margin 0
			padding-top 8px
			padding-left 8px

#fancy-textarea
	width 100%
	height 104px
	resize none

	padding 0.6em 1em

	line-height 1.33
	vertical-align top

	outline none

	border-radius(0.3125em)

#fancy-send
	position absolute
	right 8px
	top 8px
	width 13%
	height 104px
	line-height @height

	cursor pointer
	display inline-block
	text-align center

	outline none
	border none
	background-color #D6D6D6
	color #808080

	border-radius(0.25em)
	user-select(none)

#fancy-header
	height 80px
	box-shadow 0 0 0 1px black
	background-color #c0392b

	span
		position absolute
		width 550px
		top 25px
		left ((650 - @width)/2)px
		font-size 18pt
		text-align center

	a
		position absolute
		right 32px
		top 31px
		width 32px
		height 22px
		cursor pointer
		background-repeat no-repeat

		&.chats
			background-image url(icon_chats)

		&.new
			background-image url(icon_new)

		&:last-child
			right 5px
			background-image url(icon_close)

#fancy-listings
	height 369px
	margin-top 1px
	overflow-y auto

	.listing
		cursor pointer
		padding 8px
		position relative

		&:hover
			background-color #EBEBEB

		.title
			font-weight bold

		.time
			position absolute
			right 9px
			top 9px
			color grey
			font-size 12px

		.content
			height 20px
			overflow hidden
			text-overflow ellipsis

#fancy-messages
	margin-top 1px
	height 250px
	box-shadow 0 0 0 1px black
	overflow-y auto
	padding 0 20px

	.message
		margin 7px 0
		width 100%
		position relative
		min-height 60px

	.text
		border-radius 4px
		padding 10px 15px
		background-color #fff
		word-wrap break-word

		&:after
			content ' '
			position absolute
			width 0
			height 0
			border 8px solid
			top 10px

		.name
			font-weight bold
			margin-bottom 3px

	.info
		width 50px
		text-align center
		position absolute

		.avatar
			margin 0 auto
			display block

		.time
			font-size 10px

	.out
		float left

		.text
			margin-left 70px

			&:after
				left 55px
				border-color transparent #fff transparent transparent

		.info
			left 0

	.in
		float right

		.text
			margin-right 70px

			&:after
				right 55px
				border-color transparent transparent transparent #fff

		.info
			right 0

	.out, .in
		clear both

//		&:last-child
//			margin-bottom 10px

//		&:first-child
//			margin-top -10px

.fancy-cf:before,
.fancy-cf:after
	content " "
	display table

.fancy-cf:after
	clear both